<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Simple Eâ€‘Shop â€” Demo</title>
    <style>
        :root{
            --bg:#0f1724; --card:#0b1220; --muted:#94a3b8; --accent:#06b6d4; --accent-2:#7c3aed; --glass: rgba(255,255,255,0.03);
            --radius:14px; --shadow: 0 6px 20px rgba(2,6,23,0.6);
            font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        }
        *{box-sizing:border-box}
        html,body{height:100%;margin:0;background:linear-gradient(180deg,#071025 0%, #081426 60%);color:#e6eef6}
        header{display:flex;align-items:center;justify-content:space-between;padding:20px 28px}
        h1{font-size:20px;margin:0}
        .search{display:flex;gap:12px;align-items:center}
        .search input{background:var(--glass);border:1px solid rgba(255,255,255,0.04);padding:10px 12px;border-radius:10px;color:var(--muted);min-width:220px}
        .container{max-width:1100px;margin:22px auto;padding:22px}
        .controls{display:flex;gap:12px;align-items:center;margin-bottom:18px}
        select, button{background:var(--card);border:0;padding:10px 12px;border-radius:10px;color:#e6eef6}
        .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
        .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:14px;border-radius:12px;box-shadow:var(--shadow);display:flex;flex-direction:column}
        .card img{width:100%;height:160px;object-fit:cover;border-radius:10px}
        .card h3{margin:10px 0 6px;font-size:16px}
        .price-row{display:flex;justify-content:space-between;align-items:center}
        .price{font-weight:700}
        .tag{font-size:12px;color:var(--muted)}
        .btn{cursor:pointer}
        .add{margin-top:12px;padding:10px;border-radius:10px;background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;color:#042027;font-weight:700}

        /* Cart drawer */
        .cart-btn{position:relative}
        .badge{position:absolute;right:-8px;top:-8px;background:#ef4444;color:white;border-radius:999px;padding:4px 7px;font-size:12px}
        .drawer{position:fixed;right:18px;bottom:18px;width:380px;max-width:calc(100% - 36px);background:linear-gradient(180deg,#071022, #071022);border-radius:16px;padding:14px;box-shadow:var(--shadow)}
        .drawer h2{margin:0 0 8px}
        .cart-list{max-height:300px;overflow:auto;margin-bottom:10px}
        .cart-item{display:flex;gap:10px;align-items:center;padding:8px;border-radius:10px;background:rgba(255,255,255,0.02);margin-bottom:8px}
        .cart-item img{width:56px;height:56px;object-fit:cover;border-radius:8px}
        .qty{display:flex;gap:6px;align-items:center}
        .qty button{padding:6px 8px;border-radius:8px;border:0;background:rgba(255,255,255,0.03);cursor:pointer}
        .muted{color:var(--muted)}
        .empty{padding:40px;text-align:center;color:var(--muted)}

        /* Checkout modal */
        .modal-backdrop{position:fixed;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.45),rgba(0,0,0,0.6));display:flex;align-items:center;justify-content:center}
        .modal{background:var(--card);padding:18px;border-radius:12px;width:540px;max-width:95%}
        label{display:block;margin:8px 0 4px;color:var(--muted);font-size:13px}
        input[type=text], input[type=email]{width:100%;padding:10px;border-radius:8px;border:0;background:rgba(255,255,255,0.03);color:#eaf6ff}
        .row{display:flex;gap:10px}
        footer{display:flex;justify-content:space-between;align-items:center;margin-top:12px}

        @media (max-width:640px){
            .grid{grid-template-columns:repeat(2,1fr)}
            header{padding:12px}
            .drawer{right:10px;bottom:10px;width:94%}
        }
    </style>
</head>
<body>
<header>
    <h1>Neon Market â€” Demo Eâ€‘Shop</h1>
    <div class="search">
        <input id="search" placeholder="Search products..." />
        <button class="btn cart-btn" id="open-cart">ðŸ›’ Cart <span id="cart-count" class="badge" style="display:none">0</span></button>
    </div>
</header>

<main class="container">
    <div class="controls">
        <select id="category">
            <option value="all">All categories</option>
        </select>
        <select id="sort">
            <option value="featured">Featured</option>
            <option value="price-asc">Price: Low â†’ High</option>
            <option value="price-desc">Price: High â†’ Low</option>
        </select>
        <button id="clear-filter">Reset</button>
    </div>

    <section class="grid" id="products"></section>
</main>

<!-- Cart drawer (hidden by default) -->
<div id="cart-drawer" class="drawer" style="display:none">
    <h2>Your cart</h2>
    <div class="cart-list" id="cart-list"></div>
    <div class="muted" id="cart-total">Total: $0.00</div>
    <div style="margin-top:10px;display:flex;gap:8px">
        <button id="checkout" class="add" style="flex:1">Checkout</button>
        <button id="clear-cart" style="flex:0.6">Clear</button>
    </div>
</div>

<!-- Checkout modal -->
<div id="modal" style="display:none" class="modal-backdrop">
    <div class="modal">
        <h3>Checkout â€” Place Order</h3>
        <p class="muted">This demo doesn't process payments â€” it validates and clears the cart.</p>
        <label for="name">Full name</label>
        <input id="name" type="text" placeholder="Jane Doe" />
        <label for="email">Email</label>
        <input id="email" type="email" placeholder="jane@example.com" />
        <label for="address">Address</label>
        <input id="address" type="text" placeholder="123 Main St, City" />
        <footer>
            <div class="muted" id="modal-total">Total: $0.00</div>
            <div style="display:flex;gap:8px">
                <button id="cancel" class="btn">Cancel</button>
                <button id="place-order" class="add">Place order</button>
            </div>
        </footer>
    </div>
</div>

<script>
    // Demo product data
    const PRODUCTS = [
        {id:1,title:'Aurora Headphones',price:79.99,category:'audio',img:'https://i.pinimg.com/736x/70/1e/fe/701efe644b27534d3661f00ceda64e8e.jpg'},
        {id:2,title:'Nebula Lamp',price:49.00,category:'home',img:'https://images.unsplash.com/photo-1519710164239-da123dc03ef4?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=2f3e0b1a1d3fc6c1b1a9c8f9'},
        {id:3,title:'Zen Water Bottle',price:18.5,category:'lifestyle',img:'https://i.pinimg.com/1200x/08/2c/56/082c565b5fe1d71f1322c74fc948aba3.jpg'},
        {id:4,title:'Comet Backpack',price:109.99,category:'lifestyle',img:'https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=7c6a8f2f8a9e1b2c3'},
        {id:5,title:'Orbit Mug',price:12.25,category:'home',img:'https://images.unsplash.com/photo-1504754524776-8f4f37790ca0?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=1a2b3c4d5e6f7a8b9'},
        {id:6,title:'Pulse Speaker',price:139.99,category:'audio',img:'https://i.pinimg.com/736x/e4/25/3c/e4253c450663a0fd39bbfeae76e43cf5.jpg'},
        {id:7,title:'Lumen Desk Mat',price:29.0,category:'home',img:'https://i.pinimg.com/1200x/9d/b0/58/9db058d58e3b74608d67e1d9f16fc163.jpg'},
        {id:8,title:'Voyager Sunglasses',price:59.0,category:'lifestyle',img:'https://i.pinimg.com/1200x/e5/05/25/e505259ac8e06ded20a9ff244f7c1afa.jpg'},
    ];

    // App state
    let state = {products:PRODUCTS,cart:{}};

    // Utilities
    const money = v => '$'+v.toFixed(2);

    // Init
    const productsEl = document.getElementById('products');
    const categoryEl = document.getElementById('category');
    const sortEl = document.getElementById('sort');
    const searchEl = document.getElementById('search');
    const cartCountEl = document.getElementById('cart-count');

    function loadCategories(){
        const cats = Array.from(new Set(state.products.map(p=>p.category)));
        cats.forEach(c=>{
            const opt = document.createElement('option'); opt.value=c; opt.textContent = c[0].toUpperCase()+c.slice(1);
            categoryEl.appendChild(opt);
        });
    }

    function renderProducts(list){
        productsEl.innerHTML = '';
        list.forEach(p=>{
            const card = document.createElement('div'); card.className='card';
            card.innerHTML = `
          <img src="${p.img}" alt="${p.title}" />
          <h3>${p.title}</h3>
          <div class="tag">${p.category}</div>
          <div class="price-row">
            <div class="price">${money(p.price)}</div>
            <button class="add" data-id="${p.id}">Add</button>
          </div>
        `;
            productsEl.appendChild(card);
        });
    }

    function applyFilters(){
        let list = state.products.slice();
        const q = searchEl.value.trim().toLowerCase();
        if(q) list = list.filter(p=> p.title.toLowerCase().includes(q) || p.category.toLowerCase().includes(q));
        const cat = categoryEl.value;
        if(cat!=='all') list = list.filter(p=>p.category===cat);
        const sort = sortEl.value;
        if(sort==='price-asc') list.sort((a,b)=>a.price-b.price);
        if(sort==='price-desc') list.sort((a,b)=>b.price-a.price);
        renderProducts(list);
    }

    // Cart functions (simple localStorage)
    function loadCart(){
        try{ const raw = localStorage.getItem('demo_cart'); state.cart = raw ? JSON.parse(raw) : {}; }
        catch(e){ state.cart = {}; }
        updateCartUI();
    }
    function saveCart(){ localStorage.setItem('demo_cart', JSON.stringify(state.cart)); updateCartUI(); }
    function addToCart(id){ state.cart[id] = (state.cart[id]||0)+1; saveCart(); }
    function removeFromCart(id){ delete state.cart[id]; saveCart(); }
    function changeQty(id,delta){ if(!state.cart[id]) return; state.cart[id]+=delta; if(state.cart[id]<=0) delete state.cart[id]; saveCart(); }

    function cartItems(){
        return Object.entries(state.cart).map(([id,q])=>{
            const prod = state.products.find(p=>p.id==id);
            return {...prod,qty:q};
        });
    }

    function cartTotal(){ return cartItems().reduce((s,i)=>s + i.price*i.qty,0); }

    function updateCartUI(){
        const items = cartItems();
        const count = items.reduce((s,i)=>s+i.qty,0);
        if(count>0){cartCountEl.style.display='inline-block';cartCountEl.textContent = count;} else {cartCountEl.style.display='none'}

        // drawer list
        const listEl = document.getElementById('cart-list');
        listEl.innerHTML = '';
        if(items.length===0){ listEl.innerHTML = '<div class="empty">Your cart is empty</div>'; }
        else{
            items.forEach(i=>{
                const el = document.createElement('div'); el.className='cart-item';
                el.innerHTML = `
            <img src="${i.img}" alt="${i.title}" />
            <div style="flex:1">
              <div style="font-weight:700">${i.title}</div>
              <div class="muted">${money(i.price)}</div>
            </div>
            <div class="qty">
              <button data-op="dec" data-id="${i.id}">-</button>
              <div>${i.qty}</div>
              <button data-op="inc" data-id="${i.id}">+</button>
            </div>
          `;
                listEl.appendChild(el);
            });
        }
        document.getElementById('cart-total').textContent = 'Total: '+money(cartTotal());
        document.getElementById('modal-total').textContent = 'Total: '+money(cartTotal());
    }

    // Event bindings
    document.addEventListener('click', e=>{
        const target = e.target;
        if(target.matches('.add') && target.dataset.id){ addToCart(target.dataset.id); }
        if(target.id==='open-cart'){ document.getElementById('cart-drawer').style.display='block' }
        if(target.id==='clear-cart'){ state.cart={}; saveCart(); }
        if(target.dataset.op==='inc'){ changeQty(target.dataset.id,1); }
        if(target.dataset.op==='dec'){ changeQty(target.dataset.id,-1); }
        if(target.id==='checkout'){ if(cartItems().length===0){ alert('Cart is empty'); } else { document.getElementById('modal').style.display='flex' } }
        if(target.id==='cancel'){ document.getElementById('modal').style.display='none' }
        if(target.id==='place-order'){
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const address = document.getElementById('address').value.trim();
            if(!name||!email||!address){ alert('Please complete the form'); return; }
            // pretend to send order
            alert('Order placed â€” thank you, '+name+'!');
            state.cart = {}; saveCart(); document.getElementById('modal').style.display='none'; document.getElementById('cart-drawer').style.display='none';
        }
    });

    // Inputs
    searchEl.addEventListener('input', applyFilters);
    categoryEl.addEventListener('change', applyFilters);
    sortEl.addEventListener('change', applyFilters);
    document.getElementById('clear-filter').addEventListener('click', ()=>{ searchEl.value=''; categoryEl.value='all'; sortEl.value='featured'; applyFilters(); });

    // Close drawer when clicking outside on small screens
    window.addEventListener('click', e=>{
        const drawer = document.getElementById('cart-drawer');
        if(drawer.style.display==='block'){
            const rect = drawer.getBoundingClientRect();
            if(e.target.id==='open-cart') return;
            // if click is outside of drawer and not on a cart control, keep it open â€” user can close with checkout/clear.
        }
    });

    // initial render
    loadCategories(); renderProducts(state.products); loadCart();

</script>
</body>
</html>